---
title: "Eclipse Geometry — Model & Math (Instructor Deep Dive)"
subtitle: "Equations, units, assumptions, and sanity checks"
page-layout: article
toc: true
search: false
---

::: {.callout-roadmap title="Links"}
Student demo: `/demos/eclipse-geometry/`  
Model code: `demos/_assets/eclipse-geometry-model.js`  
UI/visualization code: `demos/eclipse-geometry/eclipse-geometry.js`
:::

## What the demo is modeling (big picture)

This demo is a geometric model of why eclipses are rare. It combines:

1) **Phase geometry** (New/Full Moon = conjunction/opposition relative to the Sun), and  
2) **Orbital inclination geometry** (the Moon is usually above/below the ecliptic plane).

The demo’s internal state uses **inertial longitudes** (degrees):

- $\lambda_\odot$ = Sun ecliptic longitude (inertial)
- $\lambda_M$ = Moon ecliptic longitude (inertial)
- $\Omega$ = longitude of the ascending node (inertial)

The visualization is drawn in a Sun-fixed way by subtracting $\lambda_\odot$ for display, but the model calculations are done in inertial angles.

## Phase angle (New vs Full)

The demo defines the phase angle:

$$\Delta = (\lambda_M - \lambda_\odot)\ \bmod\ 360^\circ$$

Let’s unpack each piece:

- $\Delta$ is the phase angle (degrees).
- $\Delta = 0^\circ$ corresponds to **New Moon** (conjunction).
- $\Delta = 180^\circ$ corresponds to **Full Moon** (opposition).

In the interactive “live” eclipse check, the demo requires being within a tolerance of exact syzygy (pedagogical):

- `SYZYGY_TOLERANCE_DEG = 5°`

In the long-run simulation, New/Full events are treated as exact conjunction/opposition.

## Ecliptic latitude of the Moon (how far above/below the plane)

The key “tilt” calculation is the Moon’s ecliptic latitude $\beta$ (degrees):

$$\beta = \arcsin\!\big(\sin i\ \sin(\lambda_M - \Omega)\big)$$

Let’s unpack each piece:

- $\beta$ is the Moon’s ecliptic latitude (degrees). $|\beta|$ measures “height” above/below the ecliptic plane in angular terms.
- $i$ is the Moon’s orbital inclination (degrees; default ~5.145° in the demo).
- $\lambda_M-\Omega$ is the angular distance from the ascending node.

What this equation is really saying: the Moon is in the ecliptic plane at the nodes ($\lambda_M=\Omega$ or $\Omega+180^\circ$), and farthest from the plane about $90^\circ$ away from a node.

::: {.callout-sanity-check title="Latitude sanity checks"}
- At the node: $\lambda_M=\Omega$ → $\sin(\lambda_M-\Omega)=0$ → $\beta=0^\circ$.
- Max magnitude: $|\beta| \le i$.
:::

## Eclipse “how close is close enough?” (shadow geometry)

The demo uses a physically-motivated shadow model (similar triangles) at the mean Earth–Moon distance:

- Earth–Moon distance: $D_{EM}=384{,}400\ \text{km}$ (constant in the current demo)
- Earth radius: $R_E = 6371\ \text{km}$
- Moon radius: $R_M = 1737.4\ \text{km}$
- Sun radius: $R_\odot = 696{,}000\ \text{km}$
- 1 AU: $D_{ES}=149{,}597{,}870.7\ \text{km}$

### Umbra and penumbra radii (similar triangles)

At distance $x$ behind the shadowing body (along the anti-solar direction), the model uses:

$$r_{\text{umbra}}(x) = R_{\text{body}} - x\,\frac{(R_\odot - R_{\text{body}})}{D_{ES}}$$

$$r_{\text{pen}}(x) = R_{\text{body}} + x\,\frac{(R_\odot + R_{\text{body}})}{D_{ES}}$$

These are geometric cone formulas: the umbra narrows with distance; the penumbra widens.

### Turning latitude into an “impact parameter”

The model converts a geocentric ecliptic latitude $|\beta|$ into a transverse offset (“miss distance”) at the relevant distance:

$$b \approx D_{EM}\,\sin|\beta|$$

This is the quantity compared to shadow radii.

## Lunar eclipse classification (penumbral vs umbral vs total)

A lunar eclipse happens when the Moon passes through Earth’s shadow at Full Moon. The demo classifies by comparing $b$ to Earth’s shadow radii at the Moon:

- **Total lunar:** $b \le r_{\text{umbra}}(D_{EM}) - R_M$
- **Umbral (partial) lunar:** $r_{\text{umbra}}(D_{EM}) - R_M < b \le r_{\text{umbra}}(D_{EM}) + R_M$
- **Penumbral lunar:** $r_{\text{umbra}}(D_{EM}) + R_M < b \le r_{\text{pen}}(D_{EM}) + R_M$

::: {.callout-deep-dive title="Thresholds used at mean distance (computed by the model)" collapse="true"}
From `EclipseGeometryModel.eclipseThresholdsDeg({ earthMoonDistanceKm: 384400 })`:

- Lunar total: $|\beta| \lesssim 0.427^\circ$
- Lunar umbral (partial/total): $|\beta| \lesssim 0.944^\circ$
- Lunar penumbral: $|\beta| \lesssim 1.478^\circ$
:::

## Solar eclipse classification (partial vs central)

A solar eclipse happens at New Moon when the Moon’s shadow reaches Earth. The demo uses:

- **Partial solar:** Earth intersects the Moon’s penumbra somewhere
- **Central solar:** Earth intersects the Moon’s umbra/antumbra cone (total or annular is possible depending on distance)

In this simplified model, “central” is a single category (it does not distinguish total vs annular yet).

::: {.callout-deep-dive title="Thresholds used at mean distance (computed by the model)" collapse="true"}
From `EclipseGeometryModel.eclipseThresholdsDeg({ earthMoonDistanceKm: 384400 })`:

- Solar central: $|\beta| \lesssim 0.957^\circ$
- Solar partial: $|\beta| \lesssim 1.476^\circ$
:::

## Time evolution (what moves in the simulation)

The demo evolves inertial longitudes with constant rates:

- Sun: $360^\circ$ per tropical year (365.2422 days)
- Moon: $360^\circ$ per sidereal month (27.321661 days)
- Node: regression period ~18.6 years (westward drift)

The long-run “Simulate Years” feature counts eclipse events at each New Moon and Full Moon time step (synodic month spacing).

## What’s simplified / not modeled

::: {.callout-deep-dive title="Model limitations (intentional)" collapse="true"}
- Mean Earth–Moon distance is fixed (so total vs annular solar is not distinguished).
- The Moon’s orbital eccentricity and variable speed are ignored.
- Earth’s orbital eccentricity is ignored (Sun distance is fixed at 1 AU).
- We classify using geocentric latitude (parallax effects are only approximated via Earth radius in the solar case).
- The syzygy tolerance in interactive mode is pedagogical, not ephemeris-grade.
:::

